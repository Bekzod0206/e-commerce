import{d as T,l as V,D as b,r as A,o as l,c as r,a,t as i,B as k,b as c,e as n,T as R,U,w as W,F as B,h as F,G as M,q as g,v as q,V as G}from"./elyZM39j.js";/* empty css        */const z={class:"flex flex-col gap-2"},H=["src"],J={key:0,class:"absolute top-2 left-2 bg-[#DB4444] text-white p-1 rounded box-border"},K={class:"absolute top-2 right-2"},L={class:"font-semibold"},Q={class:"flex gap-2"},X={key:0,class:"line-through text-[gray]"},tt=T({__name:"product-card",props:{dataObj:{}},setup(S){const f=V(),{currentUser:e}=V(),d=b(!1),u=b(!1),h=b(!1),$=s=>{if(e.email){if(!e.chosenProducts.includes(s))e.chosenProducts.push(s),d.value=!0;else{const o=e.chosenProducts.indexOf(s);e.chosenProducts.splice(o,1),d.value=!1}f.set(e)}else g.warning({title:"Warning",message:"Sign in to start shopping"})},N=()=>{e.email?u.value=!u.value:g.warning({title:"Warning",message:"Sign in to start shopping"})},v=s=>{h.value=s},D=s=>{if(e.email){if(e.cartProducts.includes(s)){const o=e.cartProducts.indexOf(s);e.cartProducts.splice(o,1)}else e.cartProducts.push(s);f.set(e)}else g.warning({title:"Warning",message:"Sign in to start shopping"})},t=S,p=t.dataObj.rate?t.dataObj.rate:0;return t.dataObj.colors&&t.dataObj.colors.length>0&&t.dataObj.colors,(s,o)=>{var j,_,x,w,y,P,C;const O=A("Icon"),E=q,I=G;return l(),r("div",z,[a("section",{class:"box-card relative h-[250px] w-[250px] p-0 flex items-center justify-center bg-[#F5F5F5] rounded",onMouseover:o[2]||(o[2]=m=>v(!0)),onMouseout:o[3]||(o[3]=m=>v(!1))},[a("img",{src:(j=t.dataObj)==null?void 0:j.img,alt:"product-image"},null,8,H),t.dataObj.discount?(l(),r("p",J,i((_=t.dataObj)!=null&&_.discount?`-${(x=t.dataObj)==null?void 0:x.discount}%`:""),1)):k("",!0),a("div",K,[c(O,{icon:n(d)||n(e).chosenProducts.includes((w=t.dataObj)==null?void 0:w.img)?"material-symbols:favorite":"material-symbols:favorite-outline",width:"20",class:"cursor-pointer rounded-full",onClick:o[0]||(o[0]=()=>$(t.dataObj.img))},null,8,["icon"]),c(O,{icon:n(u)?"material-symbols:visibility-rounded":"material-symbols:visibility-outline",width:"20",class:"cursor-pointer rounded-full",onClick:N},null,8,["icon"])]),R(c(E,{type:"info",class:"w-full absolute bottom-0",onClick:o[1]||(o[1]=()=>D(t.dataObj.img))},{default:W(()=>[n(e).cartProducts.includes(t.dataObj.img)?(l(),r(B,{key:0},[F(" Remove From Cart ")],64)):(l(),r(B,{key:1},[F(" Add To Cart ")],64))]),_:1},512),[[U,n(h)]])],32),a("p",L,i((y=t.dataObj)==null?void 0:y.name),1),a("span",Q,[a("p",null," $"+i((P=t.dataObj)==null?void 0:P.price),1),t.dataObj.oldPrice?(l(),r("p",X," $"+i((C=t.dataObj)==null?void 0:C.oldPrice),1)):k("",!0)]),a("span",null,[c(I,{modelValue:n(p),"onUpdate:modelValue":o[4]||(o[4]=m=>M(p)?p.value=m:null),disabled:"","show-score":"","text-color":"#ff9900","score-template":`(${t.dataObj.ratePoint})`},null,8,["modelValue","score-template"])])])}}});export{tt as _};
