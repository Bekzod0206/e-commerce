import{d as k,y as A,l as D,u as T,m as L,z as F,A as U,o as n,c as u,e as c,F as f,a as e,b as o,w as s,t as i,B as H,x as C,E as I,s as R,v as $,n as z,C as G,p as Q,h as l,f as J,i as K}from"./elyZM39j.js";/* empty css        *//* empty css        */import{t as M}from"./BKJALe4F.js";import{u as O}from"./BJ9knvaF.js";const W={class:"w-[80%] mx-auto flex flex-col gap-10 mb-[50px]"},X={class:"my-[50px] flex justify-between items-center"},Y={class:"flex items-center gap-2"},Z=["src"],tt={class:"flex items-center gap-2"},et={class:"flex items-center gap-2"},ot={class:"flex items-center gap-2"},st={key:0,class:"grid grid-cols-2 gap-2"},nt={class:"flex gap-2 items-start"},lt={class:"w-[400px] flex flex-col gap-4 border-2 p-4 box-border rounded"},rt={class:"w-full flex justify-between items-center border-b-[1px] pb-2"},at={class:"w-full flex justify-between items-center border-b-[1px] pb-2"},ut={class:"flex gap-4 items-center justify-center"},pt={class:"p-2 bg-[#DB4444] text-white rounded"},dt={class:"p-2 bg-[#DB4444] text-white rounded"},ct=k({__name:"cart",setup(P){const g=A(),x=M,{currentUser:p}=D(),B=O(),S=T(),r=L([]);F(()=>p,d=>{r.splice(0,r.length),d.cartProducts.length>0&&x.forEach(t=>{d.cartProducts.includes(t.img)&&r.push({...t,qty:1})})},{deep:!0,immediate:!0});const b=U(()=>{if(r.length>0){let d=0;return r.forEach(t=>{d+=t.price*t.qty}),d}return 0}),v=()=>{B.set(r),g.push("/checkout")},E=()=>{S.clear()};return(d,t)=>{const y=K,N=I,h=R,m=$,_=z,w=G,V=Q;return n(),u("div",W,[c(p).email?(n(),u(f,{key:0},[e("section",X,[o(N,{separator:"/"},{default:s(()=>[o(y,{to:{path:"/"},onClick:E},{default:s(()=>t[0]||(t[0]=[l("Home")])),_:1}),o(y,null,{default:s(()=>t[1]||(t[1]=[l("Cart")])),_:1})]),_:1})]),e("section",null,[o(V,{class:"box-card"},{default:s(()=>[c(p).cartProducts.length>0?(n(),u(f,{key:0},[t[2]||(t[2]=e("div",{slot:"header",class:"clearfix grid grid-cols-4 gap-4 text-xl font-semibold border-b-[2px] pb-2 mb-2"},[e("p",null,"Product"),e("p",null,"Price"),e("p",null,"Quantity"),e("p",null,"Subtotal")],-1)),(n(!0),u(f,null,J(c(r),(a,j)=>(n(),u("div",{key:j,class:"text item grid grid-cols-4 gap-6 my-2 h-[60px] hover:bg-[#DB4444] hover:text-white ease-in-out duration-200 p-2 rounded"},[e("span",Y,[e("img",{src:a.img,alt:"product-image",width:"50",class:"h-12 object-contain"},null,8,Z),e("p",null,i(a.name),1)]),e("span",tt,[e("p",null,i(a.price),1)]),e("span",et,[o(h,{type:"number",min:"1",modelValue:a.qty,"onUpdate:modelValue":q=>a.qty=q,class:"w-[100px]"},null,8,["modelValue","onUpdate:modelValue"])]),e("span",ot,[e("p",null,"$ "+i(+a.price*a.qty),1)])]))),128))],64)):(n(),C(w,{key:1,description:"No products"},{default:s(()=>[o(_,{to:"/all-products"},{default:s(()=>[o(m,{type:"danger"},{default:s(()=>t[3]||(t[3]=[l(" Go shopping ")])),_:1})]),_:1})]),_:1}))]),_:1})]),e("section",null,[o(_,{to:"/all-products"},{default:s(()=>[o(m,{type:"danger"},{default:s(()=>t[4]||(t[4]=[l("Return To Shop")])),_:1})]),_:1})]),c(p).cartProducts.length>0?(n(),u("section",st,[e("div",nt,[o(h,{placeholder:"Coupon Code",class:"w-[250px]"}),o(m,{type:"danger"},{default:s(()=>t[5]||(t[5]=[l("Apply Coupon")])),_:1})]),e("div",lt,[t[9]||(t[9]=e("p",{class:"text-lg font-semibold"},"Cart Total",-1)),e("span",rt,[t[6]||(t[6]=e("p",null,"Subtotal:",-1)),e("p",null,i(c(b)),1)]),t[10]||(t[10]=e("span",{class:"w-full flex justify-between items-center border-b-[1px] pb-2"},[e("p",null,"Shipping:"),e("p",null,"Free")],-1)),e("span",at,[t[7]||(t[7]=e("p",null,"Total:",-1)),e("p",null,i(c(b)),1)]),o(m,{type:"danger",onClick:v},{default:s(()=>t[8]||(t[8]=[l("Process To Checkout")])),_:1})])])):H("",!0)],64)):(n(),C(w,{key:1,description:"No Data, Sign up or Log in to start shopping"},{default:s(()=>[e("div",ut,[e("span",pt,[o(_,{to:"/auth"},{default:s(()=>t[11]||(t[11]=[l(" Sign up ")])),_:1})]),e("span",dt,[o(_,{to:"/login"},{default:s(()=>t[12]||(t[12]=[l(" Log in ")])),_:1})])])]),_:1}))])}}}),xt=k({__name:"cart",setup(P){return(g,x)=>{const p=ct;return n(),u("div",null,[o(p)])}}});export{xt as default};
